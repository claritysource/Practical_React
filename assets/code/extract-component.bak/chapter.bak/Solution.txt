import React, {useState} from 'react'
import './App.css'

const Dropdown = ({
  label,
  items,
  value,
  valueProperty,
  displayProperty,
  handleOnChange,
  width,
}) => {
  return (
    <>
      <label className="filterLabel" style={{marginRight: '1em'}}>{label}</label>
      <select
        className="custom-select filter-select"
        style={{width}}
        value={value}
        onChange={handleOnChange}
      >
        {items.map((item, key) =>
          <option
            key={key}
            value={item[valueProperty]}
          >
            {item[displayProperty]}
          </option>
        )}
      </select>
    </>
  )
}

const Solution = () => {
  const [selectedUser, setSelectedUser] = useState(1)

  const users = [
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bill' },
    { id: 3, name: 'Courtney' },
    { id: 4, name: 'Daniel' },
    { id: 5, name: 'Edward' },
    { id: 6, name: 'Francis' },
  ]

  const getUsername = () => users[selectedUser-1].name
  const handleOnChange = e => setSelectedUser(e.target.value)

  return (
    <div>
      <div style={{marginBottom: '2em'}}>Selected User: {getUsername()}</div>
    
      <Dropdown
        label='Users'
        items={users}
        value={selectedUser}
        valueProperty='id'
        displayProperty='name'
        handleOnChange={handleOnChange}
        width='10em'
      />
    </div>
  )
}

export default Solution;